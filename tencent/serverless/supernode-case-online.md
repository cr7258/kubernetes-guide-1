# 超级节点案例分享: 轻松应对流量洪峰

## 概述

腾讯云容器服务的超级节点可以轻松应对流量洪峰。

本文分享这种场景的几个真实实践案例。

## 案例一: 信息流系统(某新闻媒体客户)

在线业务，购买了包年包月普通节点，在业务高峰期算力不足，扩容节点慢导致部分请求失败。业务高峰时间有时无法预测(可能某个新闻突然就爆火了)，扩容慢问题的影响进一步被放大。

方案改进: 普通节点作为常驻资源池进行兜底，优先调度 Pod 到普通节点，当普通节点资源不足再调度到超级节点。高峰期 HPA 自动扩容 Pod，过程中不会触发扩容节点，不存在扩容慢问题。超级节点上 Pod 缩容后停止计费，降低成本。

![](https://image-host-1251893006.cos.ap-chengdu.myqcloud.com/tke弹eks.png)

## 案例二: 元宇宙案例(某元宇宙客户)

元宇宙业务，类似在线游戏，全球同服，带宽需求量极大，需要每个 Pod 绑 EIP，且使用的游戏框架依赖读 eth0 公网 IP。做活动时，流量相比平时大很多，大概100倍，需要能够快速扩容。

Serverless 集群方案: 超级节点的 Pod 支持绑 EIP 和开启 EIP 直通(将公网 IP 地址绑到 eth0 网卡)。使用超级节点+HPC 定时扩容(活动时间可预知)，轻松应对活动高峰，活动结束 Pod 销毁释放资源，降低成本。

![](https://image-host-1251893006.cos.ap-chengdu.myqcloud.com/超级节点元宇宙案例.png)

## 案例三: 医疗场景案例(某医疗客户)

医生提交任务到系统，利用 GPU 推理来自动生成报告，辅助医生判断病情。

上午医生上班时间是高峰期，其余时间的量则非常低，常驻的普通节点在低峰期闲置造成浪费。普通节点在高峰期扩容速度太慢，导致一些任务需要等待很久，影响医生工作效率。

方案改进: 使用 Serverless 集群，GPU Pod 直接按需创建，无需常驻节点，也无需扩容节点，提高资源利用率，降低成本。POD 启动速度快，高峰期任务也能得到及时运行，提高医生工作效率。

![](https://image-host-1251893006.cos.ap-chengdu.myqcloud.com/超级节点医疗案例.png)

## 案例四: 录制与转码(某教育客户)

在线授课生成视频回看的业务场景，服务端录制有一定时效性，在业务高峰期需快速扩容。转码会消耗大量计算资源，低峰期需求量则非常少，使用普通节点时，一般要保留一些常驻节点兜底，避免售罄时不可用，低峰期造成资源闲置和浪费。

方案改进: 由于上课时间比较集中，可使用 [HPC 插件](https://cloud.tencent.com/document/product/457/56753) 定时提前扩容录制 Pod，轻松应对高峰期，结合 HPA 快速扩容还可应对预期之外的流量洪峰。Pod 按需创建，销毁立即停止计费，无需预留资源，节约成本。

![](https://image-host-1251893006.cos.ap-chengdu.myqcloud.com/录制与转码.png)